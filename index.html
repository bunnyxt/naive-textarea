<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>naive textarea</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="textarea-caret-position.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div id="naive_textarea">
  <div style="margin: 50px auto; width: 500px">
    <form role="form">
      <div class="form-group">
        <label for="name">naive textarea</label>
        <textarea id="nt_textarea" v-model="message" class="form-control" rows="3"></textarea>
        <p>Input '@' to see what happen!</p>
        <!-- for debug start -->
        <p>pos: {{ pos }}</p>
        <p>inat: {{ inat }}</p>
        <p>atstr: {{ atstr }}</p>
        <p>justfinish: {{ justfinish }}</p>
        <p>username_list:</p>
        <ul>
          <li v-for="username in username_list">
            {{ username }}
          </li>
        </ul>
        <p>username_list_filtered:</p>
        <ul>
          <li v-for="username in username_list_filtered">
            {{ username }}
          </li>
        </ul>
        <!-- for debug end -->
      </div>
    </form>
  </div>
  <div :style="panelStyle">
    <ul class="list-group" style="box-shadow: 0 1px 1px rgba(0,0,0,.075)">
      <div v-if="username_list_filtered.length == 0">
        <a class="list-group-item" style="padding: 4px 8px">
          No user found!
        </a>
      </div>
      <div v-else>
        <a class="list-group-item" style="padding: 4px 8px">
          Select user to mention:
        </a>
        <a class="list-group-item" v-for="username in username_list_filtered"
           style="padding: 4px 8px" @click="itemClickHandler">
          {{ username }}
        </a>
      </div>
    </ul>
  </div>
</div>
<script src="naive-textarea-vue.js"></script>
</body>
</html>